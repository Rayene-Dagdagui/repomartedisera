<div class="container">
  <div class="header">
    <h1 class="title">ğŸŒ¤ï¸ Esploratore Meteo</h1>
    <p class="subtitle">Cerca una cittÃ  per scoprire il meteo attuale e le previsioni orarie</p>
  </div>

  <div class="search-card">
    <div class="grid">
      <div class="input-group">
        <label class="label">ğŸ“ CittÃ </label>
        <input placeholder="es. Roma, Milano, Palermo..." [(ngModel)]="searchTitle" (keyup.enter)="fetchWeather()" />
      </div>

      <div class="button-group">
        <button class="primary" (click)="fetchWeather()" [disabled]="loading">
          {{ loading ? 'â³ Caricamento...' : 'ğŸ” Mostra meteo' }}
        </button>
        <button class="secondary" (click)="reset()">âœ– Azzera</button>
      </div>
    </div>
  </div>

  <div *ngIf="error" class="error-card">
    <span class="error-icon">âš ï¸</span>
    <span>{{ error }}</span>
  </div>

  <div *ngIf="results.length > 0" class="results-section">
    <div *ngFor="let r of results" class="weather-card">
      <div class="weather-header">
        <div class="location-info">
          <h2 class="location-name">{{ r.city }}</h2>
          <p class="country">{{ r.country }}</p>
          <p class="time-info">{{ r.time }}</p>
        </div>
        <div class="weather-main">
          <div class="weather-icon">{{ weatherCodeToEmoji(r.weathercode) }}</div>
          <div class="temperature">{{ r.temperature }}Â°C</div>
        </div>
      </div>

      <div class="weather-details">
        <div class="detail-item">
          <span class="detail-label">ğŸ’¨ Vento</span>
          <span class="detail-value">{{ r.windspeed }} m/s</span>
        </div>
      </div>

      <div *ngIf="r.hourlyForecast && r.hourlyForecast.length > 0" class="forecast-section">
        <h3 class="forecast-title">ğŸ“Š Previsioni orarie (prime 24 ore)</h3>
        <div class="hour-grid">
          <div *ngFor="let h of r.hourlyForecast" class="hour-item">
            <div class="hour-time">{{ h.time | slice:11:16 }}</div>
            <div class="hour-temp">{{ h.temperature }}Â°C</div>
            <div class="hour-wind">ğŸ’¨ {{ h.windspeed }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="results.length === 0 && !loading" class="empty-state">
    <p>ğŸŒ Nessun risultato â€” inserisci una cittÃ  e premi "Mostra meteo"</p>
  </div>

</div>
